
DONE

    Sketch out client

    Sketch out server

    Generalize relay module so it's the "network next" kernel module instead. It can be used by server, and by backends.

    Setup terraform on the project and build SDK and relay

    I'd like to build the relay module separately, and actually test building it and installing it works?

    OK all the stuff is building in semaphore.

    Can we switch over from libsodium to libhydrogen on the client, since the client will really not benefit significantly from any advanced assembly shit?

    This way we could avoid using our franken-libsodium in most places, and then link on the server to libsodium for fast routines where it matters (or do it all in XDP?)

    No, because libhydrogen does not support SHA256 hashinrg, and it only supports Gimli hash, which the linux kernel does not support

    Sketch out the client_backend framework as a test of XDP

    Split out helpful libraries and bits from the client_backend and relay into "shared" and "platform" libs

    Setup the next_client.cpp to send 100 byte packets to the client backend as a test while in connecting state

    Setup hulk and ssh in, clone the git repo and build the client backend

    Get the client backend built and running and verify that it loads the xdp program correctly

TODO

    Modify the XDP program to reflect back any UDP packet received on the public address and port

    -----

    Reflect the 100 byte packet back to the client

    Verify that the client sees the 100 byte packet

    -----

    Setup so the next_client.cpp wraps packets with the prefix header for packet filtering

    Implement packet filter in next_client.cpp

    -----

    Extend the client backend XDP program so it checks packet filter before processing any UDP packet on the specified port

    -----

    Verify that packet filter works, and we still get the 100 byte packet back on the client

    -----







































    -------------

    Define the connect token struct

    Implement code for reading/writing this connect token in the SDK

    Unit test reading/writing this connect token. It should be only signed, not encrypted using SHA 256.

    -------------

    Define the client init request and response packets (keep them simple, so they can be read in XDP)

    Implement the client parsing the connect token and then sending the client init request packet to n backends until it receives a response per-backend

    -------------

    Implement the client_backend to the point where it can verify the client init request packet, and respond with the client init response packet

    -------------

    Extend the SDK client so it sends ping packets to the client backend and counts the number of pongs received per-backend in the connect token

    Implement code that the first to n pongs is the backend that we pick

    -------------
